$("#sample_editable_1").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none") }); $("#sample_editable_2").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none") }); $("#sample_editable_3").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none") }); $("#sample_editable_1").find("tbody tr:even").each(function () { $(this).css("background-color", "#f5f5f5").children().css("background", "none") }); $("#sample_editable_1").find("tbody tr:odd").each(function () { $(this).css("background-color", "#ffffff").children().css("background", "none") }); $("#sample_editable_2").find("tbody tr:even").each(function () { $(this).css("background-color", "#f5f5f5").children().css("background", "none") }); $("#sample_editable_2").find("tbody tr:odd").each(function () { $(this).css("background-color", "#ffffff").children().css("background", "none") }); $("#sample_editable_3").find("tbody tr:even").each(function () { $(this).css("background-color", "#f5f5f5").children().css("background", "none") }); $("#sample_editable_3").find("tbody tr:odd").each(function () { $(this).css("background-color", "#ffffff").children().css("background", "none") }); var tableId; var autoSort = true; var rowArr; var keySort = []; $("#ContentPlaceHolder1_btnSearch").click(function () { var b = $("#ContentPlaceHolder1_txtSearchPractitioner").val().toLowerCase(); sortingTable(b, "#sample_editable_1"); return false }); $("#ContentPlaceHolder1_txtSearchPractitioner").keyup(function (d) { if (!(d.which >= 33 && d.which <= 40)) { var c = $(this).val().toLowerCase(); sortingTable(c, "#sample_editable_1") } }); $("#ContentPlaceHolder1_btnSearch_Pain_Management").click(function () { var b = $("#ContentPlaceHolder1_txtSearchPractitioner_Pain_Management").val().toLowerCase(); sortingTable(b, "#sample_editable_2"); return false }); $("#ContentPlaceHolder1_txtSearchPractitioner_Pain_Management").keyup(function (d) { if (!(d.which >= 33 && d.which <= 40)) { var c = $(this).val().toLowerCase(); sortingTable(c, "#sample_editable_2") } }); $("#ContentPlaceHolder1_btnSearch_Podiatry").click(function () { var b = $("#ContentPlaceHolder1_txtSearchPodiatry").val().toLowerCase(); sortingTable(b, "#sample_editable_3"); return false }); $("#ContentPlaceHolder1_txtSearchPodiatry").keyup(function (d) { if (!(d.which >= 33 && d.which <= 40)) { var c = $(this).val().toLowerCase(); sortingTable(c, "#sample_editable_3") } }); function sortingTable(a, d) { $(d).find("tbody tr:even").each(function () { $(this).css("background-color", "#f5f5f5").children().css("background", "none") }); $(d).find("tbody tr:odd").each(function () { $(this).css("background-color", "#ffffff").children().css("background", "none") }); $(d).find("tbody tr").each(function () { if ($(this).find("td:first").text().toLowerCase().indexOf(a) > 0) { $(this).css("background-color", "#008000").children().css("background", "none") } }); rowArr = getRows(d); keySort = [32768, 16119285, 16777215]; sortTable(d, rowArr, keySort); return false } function sortTable(c, a, b) { $.each(b, function (d, e) { $.each(a, function (g, f) { if (f[0] === e) { $(c).append(f[1]) } }) }) } function getRows(b) { var a = new Array(); $(b + " tbody tr").each(function () { var d = $(this).css("background-color"); var c = rgbToInt(d); a.push([c, $(this)]) }); return a } function rgbToInt(e) { var b = /(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e); var c = parseInt(b[2]); var a = parseInt(b[3]); var d = parseInt(b[4]); return parseInt((d | (a << 8) | (c << 16)), 10) } function autoSortKeys(b) { var a = new Array(); $.each(b, function (d, e) { a.push(e[0]) }); var c = new Array(); $.each(a, function (d, e) { if ($.inArray(e, c) === -1) { c.push(e) } }); delete a; return c.sort().reverse() } $("#ContentPlaceHolder1_btnInactiveUsers").click(function () { var b = $("#ContentPlaceHolder1_btnInactiveUsers").val(); var a = b.substring(0, 4); if (a == "Show") { var c = b.replace(a, "Hide"); $("#ContentPlaceHolder1_btnInactiveUsers").val(c); $("#sample_editable_1").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "").css("background-color", "Red").children().css("background", "none") }) } else { if (a == "Hide") { var c = b.replace(a, "Show"); $("#ContentPlaceHolder1_btnInactiveUsers").val(c); $("#sample_editable_1").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none").css("background-color", "none").children().css("background", "none") }) } } return false }); $("#ContentPlaceHolder1_btnInactiveUsers_Pain_Management").click(function () { var b = $("#ContentPlaceHolder1_btnInactiveUsers_Pain_Management").val(); var a = b.substring(0, 4); if (a == "Show") { var c = b.replace(a, "Hide"); $("#ContentPlaceHolder1_btnInactiveUsers_Pain_Management").val(c); $("#sample_editable_2").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "").css("background-color", "Red").children().css("background", "none") }) } else { if (a == "Hide") { var c = b.replace(a, "Show"); $("#ContentPlaceHolder1_btnInactiveUsers_Pain_Management").val(c); $("#sample_editable_2").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none").css("background-color", "none").children().css("background", "none") }) } } return false }); $("#ContentPlaceHolder1_btnInactiveUsers_Podiatry").click(function () { var b = $("#ContentPlaceHolder1_btnInactiveUsers_Podiatry").val(); var a = b.substring(0, 4); if (a == "Show") { var c = b.replace(a, "Hide"); $("#ContentPlaceHolder1_btnInactiveUsers_Podiatry").val(c); $("#sample_editable_3").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "").css("background-color", "Red").children().css("background", "none") }) } else { if (a == "Hide") { var c = b.replace(a, "Show"); $("#ContentPlaceHolder1_btnInactiveUsers_Podiatry").val(c); $("#sample_editable_3").find("tr").each(function () { $(this).find("input[value=Inactive]").parents().eq(1).css("display", "none").css("background-color", "none").children().css("background", "none") }) } } return false }); $(".Active").toggleButtons({ width: 60, height: 23, font: { "font-size": "10px" }, style: { enabled: "warning", disabled: "danger" }, label: { enabled: "YES", disabled: "NO" }, onChange: function (p, j, i) { if ((j && $(p).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val() == "Inactive") || (j && $(p).find("input").attr("id").indexOf("chkDeactivate") > 0)) { updatePatient(p) } if ($(p).find("input").hasClass("Treatment") || $(p).find("input").hasClass("Assessment") || $(p).find("input").hasClass("CarePlan") || $(p).find("input").hasClass("InServiceEducation") || $(p).find("input").hasClass("EPC")) { var r = $(p).find("input").parent().parent().parent().parent().find("td").find("#hdnCount"); var q = parseInt($(r).val()); if (j) { $(r).val(q + 1) } else { $(r).val(q - 1); if ($(r).val() < 0) { $(r).val(0) } } } if ($(p).find("input").hasClass("Refused") || $(p).find("input").hasClass("Absent")) { var r = $(p).find("input").parent().parent().parent().parent().find("td").find("#hdnNotCount"); var q = parseInt($(r).val()); if (j) { $(r).val(q + 1) } else { $(r).val(q - 1); if ($(r).val() < 0) { $(r).val(0) } } var h = $(p).find("input").parents().eq(3).find("input.Treatment").parents().eq(1); var g = $(p).find("input").parents().eq(3).find("input.Assessment").parents().eq(1); var c = $(p).find("input").parents().eq(3).find("input.CarePlan").parents().eq(1); var b = $(p).find("input").parents().eq(3).find("input.InServiceEducation").parents().eq(1); var a = $(p).find("input").parents().eq(3).find("input.EPC").parents().eq(1); $(h).toggleButtons("setState", false); $(g).toggleButtons("setState", false); $(c).toggleButtons("setState", false); $(b).toggleButtons("setState", false); $(a).toggleButtons("setState", false); $(p).find("input").parent().parent().parent().parent().find("td").find("#hdnCount").val(0) } } }); $(".Active_Pain_Management").toggleButtons({ width: 60, height: 23, font: { "font-size": "10px" }, style: { enabled: "warning", disabled: "danger" }, label: { enabled: "YES", disabled: "NO" }, onChange: function (k, b, g) { if ((b && $(k).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val() == "Inactive") || (b && $(k).find("input").attr("id").indexOf("chkDeactivate") > 0)) { updatePatient(k) } if ($(k).find("input").hasClass("4B")) { var a = 0; $(k).find("input").parents().eq(4).find("input.4B").each(function () { if ($(this).is(":checked")) { a = a + 1 } $(".4Btxt").val(a) }) } else { if ($(k).find("input").hasClass("4A")) { var a = 0; $(k).find("input").parents().eq(4).find("input.4A").each(function () { if ($(this).is(":checked")) { a = a + 1 } $(".4Atxt").val(a) }) } else { if ($(k).find("input").hasClass("3")) { var a = 0; $(k).find("input").parents().eq(4).find("input.3").each(function () { if ($(this).is(":checked")) { a = a + 1 } $(".3txt").val(a) }) } else { if ($(k).find("input").hasClass("Refused") || $(k).find("input").hasClass("Absent") || $(k).find("input").hasClass("ill") || $(k).find("input").hasClass("Deceased") || $(k).find("input").hasClass("Hospital")) { var j = $(k).find("input").parent().parent().parent().parent().find("td").find("#hdnNotCount"); var i = parseInt($(j).val()); var d = $(".nottxt").val(); if (b) { $(j).val(i + 1); if (parseInt($(j).val()) == 1) { $(".nottxt").val(parseInt(d) + 1) } } else { $(j).val(i - 1); if (parseInt($(j).val()) == 0) { $(".nottxt").val(parseInt(d) - 1) } } } } } } if ($(k).find("input").hasClass("3") || $(k).find("input").hasClass("4A") || $(k).find("input").hasClass("4B")) { var j = $(k).find("input").parent().parent().parent().parent().find("td").find("#hdnCount"); var i = parseInt($(j).val()); var d = $(".pttxt").val(); if (b) { $(j).val(i + 1); if (parseInt($(j).val()) == 1) { $(".pttxt").val(parseInt(d) + 1) } } else { $(j).val(i - 1); if (parseInt($(j).val()) == 0) { $(".pttxt").val(parseInt(d) - 1) } } } if ($(k).find("input").hasClass("Refused") || $(k).find("input").hasClass("Absent") || $(k).find("input").hasClass("ill") || $(k).find("input").hasClass("Deceased") || $(k).find("input").hasClass("Hospital")) { var c = $(k).find("input").parents().eq(3).find("input.3").parents().eq(1); var h = $(k).find("input").parents().eq(3).find("input.4A").parents().eq(1); var f = $(k).find("input").parents().eq(3).find("input.4B").parents().eq(1); $(c).toggleButtons("setState", false); $(h).toggleButtons("setState", false); $(f).toggleButtons("setState", false); $(k).find("input").parent().parent().parent().parent().find("td").find("#hdnCount").val(0) } } }); $(".Active_Podiatry").toggleButtons({ width: 60, height: 23, font: { "font-size": "10px" }, style: { enabled: "warning", disabled: "danger" }, label: { enabled: "YES", disabled: "NO" }, onChange: function (G, I, H) { if ((I && $(G).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val() == "Inactive") || (I && $(G).find("input").attr("id").indexOf("chkDeactivate") > 0)) { updatePatient(G) } if ($(G).find("input").attr("id").indexOf("chkHighCare") > 0) { var J = $(G).find("input").parent().parent().parent().parent().find("td").find("#hdnIsHighCare"); if (I) { if ($(J).val() == "1") { alert("DVA already selected."); $(G).toggleButtons("setState", false); $(J).val(1) } else { $(J).val(1) } } else { $(J).val(0) } } if ($(G).find("input").attr("id").indexOf("chkDVA") > 0) { var J = $(G).find("input").parent().parent().parent().parent().find("td").find("#hdnIsHighCare"); if (I) { if ($(J).val() == "1") { alert("DVA cannot be charged for HC patients"); $(G).toggleButtons("setState", false); $(J).val(1) } else { $(J).val(1) } } else { $(J).val(0) } } if ($(G).find("input").hasClass("Treatment") || $(G).find("input").hasClass("Assessment") || $(G).find("input").hasClass("CarePlan") || $(G).find("input").hasClass("HighCare") || $(G).find("input").hasClass("LowCare") || $(G).find("input").hasClass("EPC") || $(G).find("input").hasClass("DVA") || $(G).find("input").hasClass("D904") || $(G).find("input").hasClass("CashPayment")) { var i = $(G).find("input").parent().parent().parent().parent().find("td").find("#hdnCount"); var a = parseInt($(i).val()); if (I) { $(i).val(a + 1) } else { $(i).val(a - 1); if ($(i).val() < 0) { $(i).val(0) } } } if ($(G).find("input").hasClass("CashPayment")) { var d = $(G).find("input").parents().eq(3).find("input.Amount"); if (I) { $(d).removeAttr("disabled") } else { $(d).attr("disabled", "disabled") } } if ($(G).find("input").hasClass("Refused") || $(G).find("input").hasClass("Absent")) { var i = $(G).find("input").parent().parent().parent().parent().find("td").find("#hdnNotCount"); var a = parseInt($(i).val()); if (I) { $(i).val(a + 1) } else { $(i).val(a - 1); if ($(i).val() < 0) { $(i).val(0) } } var F = $(G).find("input").parents().eq(3).find("input.Treatment").parents().eq(1); var E = $(G).find("input").parents().eq(3).find("input.Assessment").parents().eq(1); var D = $(G).find("input").parents().eq(3).find("input.CarePlan").parents().eq(1); var C = $(G).find("input").parents().eq(3).find("input.HighCare").parents().eq(1); var B = $(G).find("input").parents().eq(3).find("input.LowCare").parents().eq(1); var A = $(G).find("input").parents().eq(3).find("input.EPC").parents().eq(1); var z = $(G).find("input").parents().eq(3).find("input.DVA").parents().eq(1); var y = $(G).find("input").parents().eq(3).find("input.D904").parents().eq(1); var j = $(G).find("input").parents().eq(3).find("input.CashPayment").parents().eq(1); var d = $(G).find("input").parents().eq(3).find("input.Amount"); var c = $(G).find("input").parents().eq(3).find("input.RecieptNumber"); var b = $(G).find("input").parents().eq(3).find("input.Comments"); $(F).toggleButtons("setState", false); $(E).toggleButtons("setState", false); $(D).toggleButtons("setState", false); $(C).toggleButtons("setState", false); $(B).toggleButtons("setState", false); $(A).toggleButtons("setState", false); $(z).toggleButtons("setState", false); $(y).toggleButtons("setState", false); $(j).toggleButtons("setState", false); $(d).val(""); $(c).val(""); $(b).val(""); $(G).find("input").parent().parent().parent().parent().find("td").find("#hdnCount").val(0) } } }); function updatePatient(b) { if ($(b).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val() == "Inactive") { var a = $(b).parents().eq(2).children().find("input[id*=hdnPatientID]").val(); if (confirm("Are you sure you want to add this patient to the active patients list?")) { $.ajax({ type: "POST", url: "../Handlers/UpdatePatient.ashx", data: { patientId: a, status: true }, success: function (c) { $(b).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val("Active"); $(b).parents().eq(2).css("background-color", "none").children().css("background", "#F5F5F5"); alert("Patient has been activated") }, error: function (c) { alert("ERROR: " + c.d) } }) } else { $(b).toggleButtons("setState", false); alert("Patient is still inactive") } } if ($(b).parents().eq(2).children().find("input[id*=hdnPatientStatus]").val() == "Active" && $(b).find("input").attr("id").indexOf("chkDeactivate") > 0) { var a = $(b).parents().eq(2).children().find("input[id*=hdnPatientID]").val(); if (confirm("Are you sure you want to remove this patient from the active patient list?")) { $.ajax({ type: "POST", url: "../Handlers/UpdatePatient.ashx", data: { patientId: a, status: false }, success: function (c) { $(b).parents().eq(2).css("background-color", "red").children().css("background", "red"); alert("Patient has been deactivated") }, error: function (c) { alert("ERROR: " + c.d) } }) } else { $(b).toggleButtons("setState", false); alert("Patient is still active") } } } $(".Services").toggleButtons({ width: 53, font: { "font-size": "10px" }, style: { enabled: "warning", disabled: "danger"} }); $("#ContentPlaceHolder1_btnSubmit").click(function () { $("#commentForm").validate() }); $("#ContentPlaceHolder1_btnSubmit_Pain_Management").click(function () { $("#commentForm").validate() }); $("#ContentPlaceHolder1_btnSubmit_Podiatry").click(function () { $("#commentForm").validate() }); $("#ContentPlaceHolder1_btnPatientSave").click(function () { var a = 0; $("div.Services").each(function () { if ($(this).find("input[type=checkbox]").is(":checked")) { a++ } }); if (a <= 0) { alert("Please select atleast one service"); return false } }); function validate(a) { if (a == "PhysioOnly") { if ($("#sample_editable_1").find("tr").find("input[value=Active]").length < 1) { alert("There is no active patient for this report"); return false } } else { if (a == "pain") { if ($("#sample_editable_2").find("tr").find("input[value=Active]").length < 1) { alert("There is no active patient for this report"); return false } } else { if (a == "pod") { if ($("#sample_editable_3").find("tr").find("input[value=Active]").length < 1) { alert("There is no active patient for this report"); return false } } } } } function textChanged(b) { alert(b) } $("#ContentPlaceHolder1_btnphysiotherapyClear").click(function () { if ($("#ContentPlaceHolder1_txtSearchPractitioner").val() != "") { var a = $("#ContentPlaceHolder1_txtSearchPractitioner").val(""); sortingTable(a, "#sample_editable_1") } return false }); $("#ContentPlaceHolder1_btnClearpain_Managment").click(function () { if ($("#ContentPlaceHolder1_txtSearchPractitioner_Pain_Management").val() != "") { var a = $("#ContentPlaceHolder1_txtSearchPractitioner_Pain_Management").val(""); sortingTable(a, "#sample_editable_2") } return false }); $("#ContentPlaceHolder1_btnClear_Podiatry").click(function () { if ($("#ContentPlaceHolder1_txtSearchPodiatry").val() != "") { var a = $("#ContentPlaceHolder1_txtSearchPodiatry").val(""); sortingTable(a, "#sample_editable_3") } return false });